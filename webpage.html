<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DVR IPTV</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: "Segoe UI", sans-serif; background: #000000; color: #fff; margin: 0; }
    header { background: #000; padding: 20px; text-align: center; border-bottom: 2px solid #ffffff; }
    header h1 { margin: 0; font-size: 32px; color: #F4320B; animation: glow 2s ease-in-out infinite alternate; }
    @keyframes glow { from { text-shadow: 0 0 5px #ffffff; } to { text-shadow: 0 0 20px #ffffff, 0 0 30px #ffffff; } }
    .topbar { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; background: #1a1a1a; padding: 15px; }
    input, select { padding: 10px; border-radius: 6px; font-size: 16px; border: none; outline: none; }
    #channelList { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 16px; padding: 20px; }
    .channel { background: #1f1f1f; border-radius: 12px; box-shadow: 0 4px 10px rgba(0, 255, 200, 0.05); overflow: hidden; cursor: pointer; text-align: center; padding: 12px; transition: 0.3s; }
    .channel:hover { background: #292929; transform: translateY(-4px); box-shadow: 0 6px 15px rgba(0, 255, 200, 0.1); }
    .channel img { width: 100%; height: 120px; object-fit: contain; background: #2a2a2a; border-radius: 8px; padding: 6px; }
    .channel h3 { font-size: 14px; margin: 10px 0 4px; color: #00ffc8; word-break: break-word; }
    .channel small { color: #aaa; font-size: 12px; }
    .fa-heart { margin-top: 6px; font-size: 16px; color: #888; transition: color 0.2s ease; }
    .fav { color: red !important; }
    .pagination { text-align: center; margin: 20px; }
    .pagination button { background: #00ffc8; border: none; padding: 10px 20px; margin: 0 5px; cursor: pointer; border-radius: 6px; font-weight: bold; color: #000; }
    footer { text-align: center; padding: 20px; background: #000; font-size: 14px; color: #aaa; }
    #playerContainer { text-align: center; padding: 20px; background: #000; }
    video { width: 100%; max-width: 800px; height: auto; border: 2px solid #00ffc8; border-radius: 12px; display: block; margin: auto; }
    .controls { margin-top: 10px; display: flex; justify-content: center; gap: 10px; }
    .controls select { padding: 8px; font-size: 14px; border-radius: 6px; border: none; }
  </style>
</head>
<body>

<header>
  <h1>ðŸ“¡ DVR IPTV</h1>
</header>

<div class="topbar">
  <input type="text" id="searchInput" placeholder="Search channel...">
  <select id="categoryFilter">
    <option value="">All Categories</option>
  </select>
</div>

<div id="playerContainer">
  <video id="player" controls autoplay></video>
  <div class="controls">
    <select id="qualitySelect">
      <option value="auto">Quality: Auto</option>
      <option value="hd">HD</option>
      <option value="sd">SD</option>
    </select>
    <select id="audioSelect">
      <option value="default">Audio: Default</option>
      <option value="track1">Audio Track 1</option>
      <option value="track2">Audio Track 2</option>
    </select>
  </div>
</div>

<div id="channelList"></div>

<div class="pagination">
  <button onclick="prevPage()"> Prev</button>
  <span id="pageInfo"></span>
  <button onclick="nextPage()">Next </button>
</div>

<footer>
   <a href="*****" target="_blank" style="color:#00ffc8;">@dvriptv</a> | Credit: <strong>Venkat</strong>
</footer>

<script>
let allChannels = [];
let currentPage = 1;
const itemsPerPage = 20;
let currentUrl = "";

// Embed M3U as text
const m3uText = `#EXTM3U
#EXTINF:-1 tvg-id="srivenkateshwarbhakti" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/srivenkateshwarbhakti.png" group-title="Devotional",Sri Venkateshwar Bhakti
https://live.dinesh29.com.np/stream/jiotvplus/srivenkateshwarbhakti/master.m3u8

#EXTINF:-1 tvg-id="maahd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/maahd.png" group-title="Entertainment",Maa HD
https://live.dinesh29.com.np/stream/jiotvplus/maahd/master.m3u8

#EXTINF:-1 tvg-id="maamovies" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/maamovies.png" group-title="Movies",Maa Movies
https://live.dinesh29.com.np/stream/jiotvplus/maamovies/master.m3u8

#EXTINF:-1 tvg-id="maamovieshd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/maamovieshd.png" group-title="Movies",Maa Movies HD
https://live.dinesh29.com.np/stream/jiotvplus/maamovieshd/master.m3u8

#EXTINF:-1 tvg-id="maagold" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/maagold.png" group-title="Movies",Maa Gold
https://live.dinesh29.com.np/stream/jiotvplus/maagold/master.m3u8

#EXTINF:-1 tvg-id="starmaa" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/starmaa.png" group-title="Entertainment",Star Maa
https://live.dinesh29.com.np/stream/jiotvplus/starmaa/master.m3u8

#EXTINF:-1 tvg-id="maamusic" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/maamusic.png" group-title="Music",Maa Music
https://live.dinesh29.com.np/stream/jiotvplus/maamusic/master.m3u8

#EXTINF:-1 tvg-id="geminitvhd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/geminitvhd.png" group-title="Entertainment",Gemini TV HD
https://live.dinesh29.com.np/stream/jiotvplus/geminitvhd/master.m3u8

#EXTINF:-1 tvg-id="geminimusichd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/geminimusichd.png" group-title="Music",Gemini Music HD
https://live.dinesh29.com.np/stream/jiotvplus/geminimusichd/master.m3u8

#EXTINF:-1 tvg-id="geminimovieshd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/geminimovieshd.png" group-title="Movies",Gemini Movies HD
https://live.dinesh29.com.np/stream/jiotvplus/geminimovieshd/master.m3u8

#EXTINF:-1 tvg-id="geminilife" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/geminilife.png" group-title="Movies",Gemini Life
https://live.dinesh29.com.np/stream/jiotvplus/geminilife/master.m3u8

#EXTINF:-1 tvg-id="geminicomedy" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/geminicomedy.png" group-title="Entertainment",Gemini Comedy
https://live.dinesh29.com.np/stream/jiotvplus/geminicomedy/master.m3u8

#EXTINF:-1 tvg-id="kushitv" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/kushitv.png" group-title="Kids",Kushi TV
https://live.dinesh29.com.np/stream/jiotvplus/kushitv/master.m3u8

#EXTINF:-1 tvg-id="etvhd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/etvhd.png" group-title="Entertainment",ETV HD
https://live.dinesh29.com.np/stream/jiotvplus/etvhd/master.m3u8

#EXTINF:-1 tvg-id="etvplus" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/etvplus.png" group-title="Entertainment",ETV Plus
https://live.dinesh29.com.np/stream/jiotvplus/etvplus/master.m3u8

#EXTINF:-1 tvg-id="etvtelugu" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/etvtelugu.png" group-title="Entertainment",ETV Telugu
https://live.dinesh29.com.np/stream/jiotvplus/etvtelugu/master.m3u8

#EXTINF:-1 tvg-id="etvlife" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/etvlife.png" group-title="Infotainment",ETV Life
https://live.dinesh29.com.np/stream/jiotvplus/etvlife/master.m3u8

#EXTINF:-1 tvg-id="etvcinema" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/etvcinema.png" group-title="Movies",ETV Cinema
https://live.dinesh29.com.np/stream/jiotvplus/etvcinema/master.m3u8

#EXTINF:-1 tvg-id="etvcinemahd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/etvcinemahd.png" group-title="Movies",ETV Cinema HD
https://live.dinesh29.com.np/stream/jiotvplus/etvcinemahd/master.m3u8

#EXTINF:-1 tvg-id="etvplushd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/etvplushd.png" group-title="Entertainment",ETV Plus HD
https://live.dinesh29.com.np/stream/jiotvplus/etvplushd/master.m3u8

#EXTINF:-1 tvg-id="starsports2teluguhd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/starsports2teluguhd.png" group-title="Sports",Star Sports 2 Telugu HD
https://live.dinesh29.com.np/stream/jiotvplus/starsports2teluguhd/master.m3u8

#EXTINF:-1 tvg-id="starsports1teluguhd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/starsports1teluguhd.png" group-title="Sports",Star Sports 1 Telugu HD
https://live.dinesh29.com.np/stream/jiotvplus/starsports1teluguhd/master.m3u8

#EXTINF:-1 tvg-id="starsports1telugu" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/starsports1telugu.png" group-title="Sports",Star Sports 1 Telugu
https://live.dinesh29.com.np/stream/jiotvplus/starsports1telugu/master.m3u8

#EXTINF:-1 tvg-id="sonyten4hdtelugu" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/sonyten4hdtelugu.png" group-title="Sports",Sony Ten 4 HD Telugu
https://live.dinesh29.com.np/stream/jiotvplus/sonyten4hdtelugu/master.m3u8

#EXTINF:-1 tvg-id="starsports2telugu" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/starsports2telugu.png" group-title="Sports",Star Sports 2 Telugu
https://live.dinesh29.com.np/stream/jiotvplus/starsports2telugu/master.m3u8

#EXTINF:-1 tvg-id="zeetelugu" tvg-logo="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR8bfmaYk2yfcrmri9aEguoPWUMQS4s9lAPmRACttbxXLHp5JV-wcYnHi8&s=10" group-title="Entertainment",Zee telugu HD
https://zeusplayer.org:443/live/ash123/ash321/98894.ts

#EXTINF:-1 tvg-id="zeetelugu" tvg-logo="https://upload.wikimedia.org/wikipedia/commons/b/b6/Zee_cinemalu_logo_2025.jpg" group-title="Movies",Zee cinemalu HD
https://zeusplayer.org:443/live/ash123/ash321/98896.m3u8

#EXTINF:-1 tvg-id="pogotelugu" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/pogotelugu.png" group-title="Kids",Pogo Telugu
https://live.dinesh29.com.np/stream/jiotvplus/pogotelugu/master.m3u8

#EXTINF:-1 tvg-id="disneychannel" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/disneychannel.png" group-title="Kids",Disney Channel
https://live.dinesh29.com.np/stream/jiotvplus/disneychannel/master.m3u8

#EXTINF:-1 tvg-id="disneyjunior" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/disneyjunior.png" group-title="Kids",Disney Junior
https://live.dinesh29.com.np/stream/jiotvplus/disneyjunior/master.m3u8

#EXTINF:-1 tvg-id="natgeowildhd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/natgeowildhd.png" group-title="Infotainment",Nat Geo Wild HD
https://live.dinesh29.com.np/stream/jiotvplus/natgeowildhd/master.m3u8

#EXTINF:-1 tvg-id="nationalgeographichd" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/nationalgeographichd.png" group-title="Infotainment",National Geographic HD
https://live.dinesh29.com.np/stream/jiotvplus/nationalgeographichd/master.m3u8

#EXTINF:-1 tvg-id="historytv18hdtelugu" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/historytv18hdtelugu.png" group-title="Infotainment",History TV18 HD Telugu
https://live.dinesh29.com.np/stream/jiotvplus/historytv18hdtelugu/master.m3u8

#EXTINF:-1 tvg-id="discoverytelugu" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/discoverytelugu.png" group-title="Infotainment",Discovery Telugu
https://live.dinesh29.com.np/stream/jiotvplus/discoverytelugu/master.m3u8

#EXTINF:-1 tvg-id="sonictelugu" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/sonictelugu.png" group-title="Kids",Sonic Telugu
https://live.dinesh29.com.np/stream/jiotvplus/sonictelugu/master.m3u8

#EXTINF:-1 tvg-id="cnhdtelugu" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/cnhdtelugu.png" group-title="Kids",CN HD+ Telugu
https://live.dinesh29.com.np/stream/jiotvplus/cnhdtelugu/master.m3u8

#EXTINF:-1 tvg-id="natgeowild" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/natgeowild.png" group-title="Infotainment",Nat Geo Wild
https://live.dinesh29.com.np/stream/jiotvplus/natgeowild/master.m3u8

#EXTINF:-1 tvg-id="nationalgeographic" tvg-logo="https://live.dinesh29.com.np/logos/jiotvplus/nationalgeographic.png" group-title="Infotainment",National Geographic
https://live.dinesh29.com.np/stream/jiotvplus/nationalgeographic/master.m3u8
`;

function loadM3U() {
  const channels = [];
  const lines = m3uText.split("\n");

  let currentChannel = {};
  for (let line of lines) {
    line = line.trim();
    if (line.startsWith("#EXTINF:")) {
      const nameMatch = line.match(/,(.*)$/);
      const logoMatch = line.match(/tvg-logo="(.*?)"/);
      const groupMatch = line.match(/group-title="(.*?)"/);

      currentChannel = {
        name: nameMatch ? nameMatch[1] : "Unknown",
        logo: logoMatch ? logoMatch[1] : "",
        group: groupMatch ? groupMatch[1] : "none",
        url: ""
      };
    } else if (line && !line.startsWith("#")) {
      currentChannel.url = line;
      channels.push(currentChannel);
      currentChannel = {};
    }
  }

  allChannels = channels;
  populateCategories();
  renderChannels();
}

function populateCategories() {
  const select = document.getElementById("categoryFilter");
  const groups = [...new Set(allChannels.map(ch => ch.group))].sort();
  groups.forEach(g => {
    const opt = document.createElement("option");
    opt.value = g;
    opt.textContent = g;
    select.appendChild(opt);
  });
}

function renderChannels() {
  const channelList = document.getElementById("channelList");
  channelList.innerHTML = "";

  const search = document.getElementById("searchInput").value.toLowerCase();
  const category = document.getElementById("categoryFilter").value;

  let filtered = allChannels.filter(ch =>
    ch.name.toLowerCase().includes(search) &&
    (category === "" || ch.group === category)
  );

  const totalPages = Math.ceil(filtered.length / itemsPerPage);
  if (currentPage > totalPages) currentPage = totalPages || 1;
  const start = (currentPage - 1) * itemsPerPage;
  const end = start + itemsPerPage;
  const pageItems = filtered.slice(start, end);

  pageItems.forEach(ch => {
    const div = document.createElement("div");
    div.className = "channel";
    div.innerHTML = `
      <img src="${ch.logo}" alt="${ch.name}">
      <h3>${ch.name}</h3>
      <small>${ch.group}</small>
    `;
    div.onclick = () => playChannel(ch.url);
    channelList.appendChild(div);
  });

  document.getElementById("pageInfo").textContent = `Page ${currentPage} of ${totalPages}`;
}

function playChannel(url) {
  currentUrl = url;
  const player = document.getElementById("player");
  player.src = url;
  player.play();
}

function prevPage() { if (currentPage > 1) { currentPage--; renderChannels(); } }
function nextPage() { currentPage++; renderChannels(); }

// Quality selection
document.getElementById("qualitySelect").addEventListener("change", (e) => {
  if (!currentUrl) return;
  let url = currentUrl;

  if (e.target.value === "hd") {
    url = currentUrl.replace("sd", "hd");
  } else if (e.target.value === "sd") {
    url = currentUrl.replace("hd", "sd");
  }
  playChannel(url);
});

// Audio track selection
document.getElementById("audioSelect").addEventListener("change", (e) => {
  const player = document.getElementById("player");
  const tracks = player.audioTracks || [];
  if (tracks.length > 0) {
    if (e.target.value === "track1" && tracks[0]) tracks[0].enabled = true;
    if (e.target.value === "track2" && tracks[1]) tracks[1].enabled = true;
  }
});

document.getElementById("searchInput").addEventListener("input", renderChannels);
document.getElementById("categoryFilter").addEventListener("change", renderChannels);

document.addEventListener("DOMContentLoaded", loadM3U);
</script>
</body>

</html>
